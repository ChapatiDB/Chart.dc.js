<!DOCTYPE html>
<html>

<head>
    <title>Chart.dc.PolarArea, Food Consumption</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <!-- Latest compiled and minified JavaScript -->
</head>

<body>
    <div class="jumbotron text-center">
        <h1>Chart.js Polar Area in a DC chart Group</h1>
        <h3>Using USDA data for recommended food consumption per day for different calorie intakes</h3>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <canvas id="intakeChart" width="400" height="400"></canvas>
            </div>
            <div class="col-md-6">
            </div>
        </div>
        <div class="row"></div>
        <div class="row"></div>
    </div>
    <!--adding all of my dependencies here -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/dc/1.7.0/dc.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>
    <script src="../src/chart.dc.PolarArea.js"></script>
    <script>
    //data from a report linked on this page: http://www.ers.usda.gov/data-products/food-consumption-and-nutrient-intakes.aspx#26667
    //did some unit conversion so the data might not be as accurate and also modified the portions to reflect total recommended for that calorie range per day

    var foodPortions = [{
        "food_group": "fruits",
        "calorie_intake": 1400,
        "recommended cups": 1.50
    }, {
        "food_group": "vegetables",
        "calorie_intake": 1400,
        "recommended cups": 1.50
    }, {
        "food_group": "dairy",
        "calorie_intake": 1400,
        "recommended cups": 2.51
    }, {
        "food_group": "grains",
        "calorie_intake": 1400,
        "recommended cups": 0.62
    }, {
        "food_group": "protein",
        "calorie_intake": 1400,
        "recommended cups": 0.50
    }, {
        "food_group": "added sugars",
        "calorie_intake": 1400,
        "recommended cups": 0.08
    }, {
        "food_group": "solid fats",
        "calorie_intake": 1400,
        "recommended cups": 0.03
    }, {
        "food_group": "oils",
        "calorie_intake": 1400,
        "recommended cups": 0.71
    }, {
        "food_group": "fruits",
        "calorie_intake": 2000,
        "recommended cups": 2.00
    }, {
        "food_group": "vegetables",
        "calorie_intake": 2000,
        "recommended cups": 2.50
    }, {
        "food_group": "dairy",
        "calorie_intake": 2000,
        "recommended cups": 3.00
    }, {
        "food_group": "grains",
        "calorie_intake": 2000,
        "recommended cups": 0.75
    }, {
        "food_group": "protein",
        "calorie_intake": 2000,
        "recommended cups": 0.69
    }, {
        "food_group": "added sugars",
        "calorie_intake": 2000,
        "recommended cups": 0.16
    }, {
        "food_group": "solid fats",
        "calorie_intake": 2000,
        "recommended cups": 0.07
    }, {
        "food_group": "oils",
        "calorie_intake": 2000,
        "recommended cups": 0.11
    }, {
        "food_group": "fruits",
        "calorie_intake": 2200,
        "recommended cups": 2.00
    }, {
        "food_group": "vegetables",
        "calorie_intake": 2200,
        "recommended cups": 3.00
    }, {
        "food_group": "dairy",
        "calorie_intake": 2200,
        "recommended cups": 3.00
    }, {
        "food_group": "grains",
        "calorie_intake": 2200,
        "recommended cups": 0.87
    }, {
        "food_group": "protein",
        "calorie_intake": 2200,
        "recommended cups": 0.75
    }, {
        "food_group": "added sugars",
        "calorie_intake": 2200,
        "recommended cups": 0.17
    }, {
        "food_group": "solid fats",
        "calorie_intake": 2200,
        "recommended cups": 0.07
    }, {
        "food_group": "oils",
        "calorie_intake": 2200,
        "recommended cups": 0.12
    }, {
        "food_group": "fruits",
        "calorie_intake": 3000,
        "recommended cups": 2.49999
    }, {
        "food_group": "vegetables",
        "calorie_intake": 3000,
        "recommended cups": 4.00
    }, {
        "food_group": "dairy",
        "calorie_intake": 3000,
        "recommended cups": 3
    }, {
        "food_group": "grains",
        "calorie_intake": 3000,
        "recommended cups": 1.24875
    }, {
        "food_group": "protein",
        "calorie_intake": 3000,
        "recommended cups": 0.87375
    }, {
        "food_group": "added sugars",
        "calorie_intake": 3000,
        "recommended cups": 2.868
    }, {
        "food_group": "solid fats",
        "calorie_intake": 3000,
        "recommended cups": 0.12768
    }, {
        "food_group": "oils",
        "calorie_intake": 3000,
        "recommended cups": 0.18603
    }];

    var cxf = crossfilter(foodPortions);

    var foodGroupDimension = cxf.dimension(function(d) {
    	return d["recommended cups"];
    });

    //set up the colors
    var colors = ["#1f77b4","#aec7e8", "#ff7f0e", "#ffbb78", "#2ca02c", "#98df8a", "#d62728", "#ff9896", "#9467bd", "#c5b0d5", "#8c564b", "#c49c94"];
    //will make this different soon, but you get the idea.
    var highlights = ["#1f77b4","#aec7e8", "#ff7f0e", "#ffbb78", "#2ca02c", "#98df8a", "#d62728", "#ff9896", "#9467bd", "#c5b0d5", "#8c564b", "#c49c94"];
 // #e377c2
 // #f7b6d2
 // #7f7f7f
 // #c7c7c7
 // #bcbd22
 // #dbdb8d
 // #17becf
 // #9edae5]
 	var ctx = document.getElementById("intakeChart").getContext("2d");

 	var data = {};
 	data.dimension = foodGroupDimension;
 	data.colors = colors;
 	data.highlights = highlights;
 	var myChart = new Chart(ctx).PolarAreaXF(data, {responsive: false}); 

    </script>
</body>

</html>
